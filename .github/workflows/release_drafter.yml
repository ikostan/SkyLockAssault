---
name: "Release Drafter"

on:  # yamllint disable-line rule:truthy
  # Makes it reusable; called by other workflows
  workflow_call:  # yamllint disable rule:empty-values
    secrets:
      AUTH_TOKEN:
        description: "Auth GITHUB Token"
        required: true

permissions:
  contents: "read"

jobs:
  update_release_draft:
    permissions:
      contents: "write"
      pull-requests: "write"
    runs-on: "ubuntu-latest"
    steps:
      - uses: "release-drafter/release-drafter@3f0f87098bd6b5c5b9a36d49c41d998ea58f9348"  # Pinned to v6.0.0 commit SHA
        with:
          config-name: "release-drafter.yml"  # Explicitly point to your config
        env:
          GITHUB_TOKEN: "${{ secrets.AUTH_TOKEN }}"
